% !TeX encoding = UTF-8
% !TeX root = choix_extensions.tex
\chapter{Tableaux}





\section{Aérer les tableaux}



\subsection{Augmenter la hauteur de ligne}

Pour augmenter la hauteur des cellules, uniquement vers le haut, utiliser \mintinline{latex}{extrarowheight{...}}. Remarque : en mettant le \mintinline{latex}{extrarowheight{...}} dans un environnement \mintinline{latex}{center}, cela en limite l'effet à ce tableau.

\begin{LTXexample}[pos=o,width=.3\linewidth]
\begin{center}
  \setlength\extrarowheight{12pt}
  \begin{tabular}{|p{5ex}|l|}
    \hline
    P1 & $a^ma^n = a^{m + n}$ \\
    \hline
    P2 & $\left( {a^m} \right)^n = a^{mn}$ \\
    \hline
  \end{tabular}
\end{center}
\end{LTXexample}



\subsection{Augmenter la hauteur de ligne et centrer verticalement}

Pour augmenter la taille des cellules de manière centrée : insérer une réglure verticale de largeur nulle et décalée verticalement (p. ex. \mintinline{latex}{\rule[-2ex]{0pt}{5.5ex}}) :

\begin{LTXexample}[pos=o,width=.3\linewidth]
\begin{center}
  \begin{tabular}{|>{\rule[-2ex]{0pt}{5.5ex}}p{5ex}|c|}
    \hline
    P1 & $a^ma^n = a^{m + n}$ \\
    \hline
    P2 & $\left( {a^m} \right)^n = a^{mn}$ \\
    \hline 
  \end{tabular} 
\end{center}
\end{LTXexample}

C'est la version que propose l'\incmd{assistant tableau} de TeXstudio.





\section{Centrage horizontal et vertical}

Sur une ligne du tableau, pour faire aligner verticalement deux cellules : utiliser le type de colonne \mintinline{latex}{m{taille}}. Pour faire simultanément un centrage horizontal : rajouter un \mintinline{latex}{\centering} dans chaque cellule (en utilisant l'option de colonne \mintinline{latex}{>{}}).

\erreurCourante*{
	Il n'est plus possible alors d'utiliser \mintinline{latex}{\\} pour terminer une ligne, il faut utiliser explicitement \mintinline{latex}{\tabularnewline}.
}

\begin{LTXexample}[pos=o,width=.25\linewidth]
\begin{center}
  \begin{tabular}{|>{\centering}m{1cm}|>{\centering}m{1cm}|}
    \hline 
    {\Huge $\updownarrow$} & Flèche \tabularnewline
    \hline
    Flèche & {\Huge $\updownarrow$} \tabularnewline 
    \hline
  \end{tabular} 
\end{center}
\end{LTXexample}





\section{Tableaux mathématiques}
\label{sec:tableauxMaths}

Pour faire des tableaux en mode mathématique, utiliser l'environnement \mintinline{latex}{IEEEeqnarray} (voir \ref{sec:alignementEquations}). Comme alternative, il y a aussi \mintinline{latex}{array}. On peut en ajuster la hauteur de ligne avec \mintinline{latex}{extrarowheight} et l'espace inter colonne avec \mintinline{latex}{\arraycolsep} comme dans l'exemple ci-dessous :
\begin{LTXexample}[pos=o]
\[
  \setlength\extrarowheight{4pt}
  \setlength{\arraycolsep}{0pt}
  \begin{array}{rrrrr<{~}|>{~}l}
    4x^4 & -2x^3 & +0x^2 & +5x & -7 \hspace{0.3cm} & 2x^2+0x-3\\
    \cline{6-6}
    -4x^4 & -0x^3 & +6x^2 & & & 2x^2-x+3\\
    \cline{1-3}
    & -2x^3 & +6x^2 & +5x & & \\
    & +2x^3 & +0x^2 & -3x & & \\
    \cline{2-4}
    & & 6x^2 & +2x & -7 &\\
    & & -6x^2 & -0x & +9 &\\
    \cline{3-5}
    & & & 2x & +2 & \\
  \end{array}
\]
\end{LTXexample}

Noter aussi l'utilisation de la commande \mintinline{latex}{\cline} pour la réalisation de filets horizontaux sur une seule partie du tableau.





\section{Pense-bête}

Déclarer directement plusieurs colonnes de même type, fusion de cellules, filet partiel : 
\begin{LTXexample}[pos=o,width=.4]
\setlength\extrarowheight{1ex}
\begin{tabular}{|*{10}{c|}}
  \hline
  1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
  \cline{1-5}
  \multicolumn{5}{|c|}{Cinq colonnes} & \multicolumn{5}{c|}{Cinq autres} \\
  \cline{0-4}
  1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
  \hline
  1 & 2 & 3 & \multirow{2}{*}[2ex]{4} & 5 & 6 & 7 & 8 & 9 & 10 \\
  \cline{1-3} \cline{5-10}
  1 & 2 & 3 &  & 5 & 6 & 7 & 8 & 9 & 10 \\
  \hline
  1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
  \hline
  1 & 2 & 3 &
    \multicolumn{3}{c|}{\multirow{2}*{4 \ 5 \ 6}}
    & 7 & 8 & 9 & 10 \\
  \cline{1-3} \cline{7-10}
  1 & 2 & 3 &
    \multicolumn{3}{c|}{} & 7 & 8 & 9 & 10 \\
  \hline
  1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
  \hline
\end{tabular}
\end{LTXexample}





\section{Tables professionnelles}

Avec l'extension \href{https://www.ctan.org/pkg/booktabs}{booktabs.sty}, on peut faire des tables correspondant aux standards typographiques professionnels :

\begin{LTXexample}
\begin{tabular}{@{}llc@{}} \toprule
    $P$ & $Q$ & $P \;et\; Q$ \\ \midrule
    $\cV$ & $\cV$ & $\cV$ \\
    $\cV$ & $\cF$ & $\cF$ \\
    $\cF$ & $\cV$ & $\cF$ \\
    $\cF$ & $\cF$ & $\cF$ \\ \bottomrule
\end{tabular}
\end{LTXexample}





\section{Numéroter les lignes d'un tableau}

On définit la commande \inlatex{\rownumber} en préambule : 

\begin{minted}[autogobble]{latex}
	\preto\tabular{\setcounter{magicrownumbers}{0}}
	\newcounter{magicrownumbers}
	\newcommand\rownumber{\stepcounter{magicrownumbers}\arabic{magicrownumbers}}
\end{minted}

\begin{LTXexample}
\begin{tabular}{|l|c|}
	N° & Contenu \\
	\hline
	\rownumber & un \\
	\rownumber & deux \\
	\rownumber & trois
\end{tabular}
\end{LTXexample}





\section{Redéfinir les espacement dans un tableau}

\begin{minipage}{.9\linewidth}
	\begin{minted}[autogobble,breaklines]{latex}
        \renewcommand{\arraystretch}{3}
        \newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
        \begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}l*{2}{M{.15\linewidth}}M{.2\linewidth}M{.25\linewidth}}
          \toprule
          \textbf{Suite} & \textbf{Définition} & \textbf{Raison} & \textbf{Terme général} & \parbox{\linewidth}{\textbf{Somme partielle des $\symbf{n}$ premiers termes}} \\
          \addlinespace
          \midrule
          Arith. & $u_{n+1} = u_n + r$ & $r = u_{n+1} - u_n$ & $u_n = u_1 + (n-1) \cdot r$ & $S_n = n \cdot \dfrac{u_1+u_n}{2}$ \\
          Géom. & $u_{n+1} = u_n \cdot r$ & $r = \dfrac{u_{n+1}}{u_n}$ & $u_n = u_1 \cdot r^{n-1}$ & $S_n = u_1 \cdot \dfrac{1-r^n}{1-r}$ \\
          \addlinespace[2ex]
          \bottomrule
        \end{tabular*}
	\end{minted}
\end{minipage}

\begin{center}
	\renewcommand{\arraystretch}{3}
	\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}
	\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}l*{2}{M{.15\linewidth}}M{.2\linewidth}M{.25\linewidth}}
		\toprule
		\textbf{Suite} & \textbf{Définition} & \textbf{Raison} & \textbf{Terme général} & \parbox{\linewidth}{\textbf{Somme partielle des $\symbf{n}$ premiers termes}} \\
		\addlinespace
		\midrule
		Arith. & $u_{n+1} = u_n + r$ & $r = u_{n+1} - u_n$ & $u_n = u_1 + (n-1) \cdot r$ & $S_n = n \cdot \dfrac{u_1+u_n}{2}$ \\
		Géom. & $u_{n+1} = u_n \cdot r$ & $r = \dfrac{u_{n+1}}{u_n}$ & $u_n = u_1 \cdot r^{n-1}$ & $S_n = u_1 \cdot \dfrac{1-r^n}{1-r}$ \\
		\addlinespace[2ex]
		\bottomrule
	\end{tabular*}
\end{center}